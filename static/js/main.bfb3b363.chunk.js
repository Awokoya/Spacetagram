(this.webpackJsonpspacetagram=this.webpackJsonpspacetagram||[]).push([[0],{109:function(e,t,c){},137:function(e,t,c){},138:function(e,t,c){},139:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(4),s=c.n(i),r=(c(109),c(36)),o=c(37),l=c(42),d=c(41),u=c(2),j=function(){return Object(u.jsxs)("div",{className:"text-center text-white m-5",children:["Loading...",Object(u.jsx)("div",{className:"spinner-border",role:"status"})]})},b=c(14),g=c(144),h=function(e){var t=e.currentLike,c=e.onClickFunc;return Object(u.jsxs)("button",{onClick:c,className:"btn btn-outline-dark",children:[Object(u.jsx)(g.a,{icon:"heart",size:20,color:t?"red":"gray"}),"".concat(t?"Liked":"Like")]})},m=(c(137),function(e){var t,c=e.url,a=e.description,i=e.title,s=e.date,r=e.addtoLiked,o=e.id,l=e.isLiked,d=Object(n.useState)(l),j=Object(b.a)(d,2),g=j[0],m=j[1];return r(o,g?1:0),console.log(c),t="picture"===(c.includes(".jpg")?"picture":"video")?Object(u.jsx)("img",{src:c,alt:"APOD: Astronomy Picture of the Day"}):Object(u.jsx)("iframe",{src:c,width:"auto",height:"auto",controls:!0}),Object(u.jsxs)("div",{className:"card bg-light p-5 mb-5",style:{maxWidth:"50rem"},children:[t,Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h1",{children:i}),Object(u.jsxs)("p",{className:"card-text",children:[" ",a]}),Object(u.jsx)("h6",{style:{color:"gray"},children:s}),Object(u.jsx)(h,{onClickFunc:function(){m(!g)},currentLike:g})]})]})}),O=function(e){var t=e.image,c=Object(n.useState)(null!==localStorage.getItem("likedArray")?localStorage.getItem("likedArray").split(" "):""),a=Object(b.a)(c,2),i=a[0],s=a[1],r=i,o=function(e,t){if(console.log("here",t),1===t);else{var c=(r=i).indexOf(e);r.splice(c,1)}};return Object(n.useEffect)((function(){console.log("useeff called",i),localStorage.setItem("likedArray",i.toString())}),[i,s]),Object(u.jsx)("div",{children:t.map((function(e,c){return Object(u.jsx)(m,{id:c,url:t[c].url,description:t[c].explanation,title:t[c].title,date:t[c].date,addtoLiked:o,isliked:!!i.includes(c)},c)}))})},f=(c(138),function(e){Object(l.a)(c,e);var t=Object(d.a)(c);function c(e){var n;return Object(r.a)(this,c),(n=t.call(this,e)).state={images:[],isloaded:!1},n}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var e=this,t=new Date,c=t.getDate()-15,n=t.getFullYear(),a=t.getMonth()+1;console.log("rand date",t),fetch("https://api.nasa.gov/planetary/apod?api_key=".concat("VGgbAuiNI2Vg1dDFqVsTeLsbPnw3dvuKT6cocqYb","&start_date=").concat(n,"-").concat(a,"-").concat(c)).then((function(e){return e.json()})).then((function(t){e.setState({images:t,isloaded:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.images,c=e.isloaded;return console.log(this.state.images.explanation),c?Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{className:"text-center text-white p-3",children:"Spacetagram"}),Object(u.jsx)("div",{className:"p-2",children:Object(u.jsx)(O,{image:t})})]}):Object(u.jsx)(j,{})}}]),c}(n.Component)),p=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,145)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(f,{})}),document.getElementById("root")),p()}},[[139,1,2]]]);
//# sourceMappingURL=main.bfb3b363.chunk.js.map